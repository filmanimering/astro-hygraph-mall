---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";

const { pageSeo, globalSeo, fallbackTitle, settings } = Astro.props;

// Hämta färgen från dina globala inställningar, eller använd din standard
const brandColor = settings?.brandColor || "#78350F";
---

<html lang="sv" class="scroll-smooth">
  <head>
    <BaseHead
      pageSeo={pageSeo}
      globalSeo={globalSeo}
      fallbackTitle={fallbackTitle}
    />

    {/* Här definierar vi CSS-variabeln baserat på Hygraph-datan */}
    <style is:global define:vars={{ brandColor }}>
      :root {
        --brand-primary: var(--brandColor);

        /* Skapar en mörkare version genom att blanda in 30% svart */
        --brand-text: color-mix(in srgb, var(--brandColor), black 30%);

        /* Skapar en mycket ljus version för bakgrunder (ersätter /5 opacitet om man vill) */
        --brand-surface: color-mix(in srgb, var(--brandColor), white 95%);
      }
    </style>
  </head>

  <body class="text-slate-950 flex flex-col min-h-screen font-sans">
    <Header settings={settings} />

    <main class="w-full mx-auto grow">
      <slot />
    </main>

    <Footer settings={settings} />
  </body>
</html>
