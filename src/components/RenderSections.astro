---
import Hero from "./sections/Hero.astro";
import Text from "./sections/Text.astro";
import ImageGrid from "./sections/ImageGrid.astro";
import Video from "./sections/SectionVideo.astro";
import InfoCard from "./sections/InfoCardGrid.astro";
const { sections } = Astro.props;

// Här mappar vi Hygraph __typename till Astro-komponenter
const components: Record<string, any> = {
    SectionHero: Hero,
    SectionText: Text,
    SectionImageGrid: ImageGrid,
    SectionVideo: Video,
    SectionInfoCardGrid: InfoCard,
};
---

{
    sections.map((section: any) => {
        const Component = components[section.__typename];
        return Component ? (
            <Component data={section} />
        ) : (
            <p>Okänd komponent: {section.__typename}</p>
        );
    })
}
