---
// Hero.astro
import MyButton from "../MyButton.astro";
import MyImage from "../MyImage.astro"; // Importera din bildkomponent

const { data } = Astro.props;

const heroTitle = data.heroTitel || "Välkommen";
const heroText = data.heroText || "Din beskrivande text här.";
const buttonLabel = data.buttonLabel;
const buttonUrl = data.buttonUrl;
const heroLayout = data.heroLayout;
// Hämta hela bildobjektet
const heroImage = data.bgBild;
---

<section class="">
  {/* FALL 1: Text till vänster, Bild till höger */}
  {
    heroLayout === "textLeftImageRight" && (
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="flex items-center pb-12 px-4 max-w-7xl mx-auto">
          <div class="">
            {heroTitle && <h1 class="    mb-4 leading-wide">{heroTitle}</h1>}
            {heroText && <p class=" mb-6 ">{heroText}</p>}
            {buttonLabel && buttonUrl && (
              <MyButton
                titel={buttonLabel}
                link={buttonUrl}
                variant="primary"
              />
            )}
          </div>
        </div>

        <div class="">
          {heroImage?.url && (
            <MyImage
              src={heroImage.url}
              alt={heroImage.altText || "Hero bild"}
              width={heroImage.width}
              height={heroImage.height}
              priority={true}
              class="rounded-2xl shadow-lg"
              aspect="auto"
            />
          )}
        </div>
      </div>
    )
  }
  {/* FALL 2: Full bredd bild - text i mitten */}
  {
    heroLayout === "fullWidthBackgroundTextCenter" && (
      <section
        class="-mt-36 w-full bg-center bg-cover bg-no-repeat"
        style={`background-image: url(${heroImage.url});`}
      >
        <div class="py-44 flex justify-center items-center ">
          <div class="max-w-2xl mx-auto justify-center items-center text-white bg-black/30 backdrop-blur-xs rounded-t-4xl ">
            <div class="py-12 px-12 flex justify-center items-center flex-col">
              {heroTitle && (
                <h1 class="mb-4 text-4xl leading-wide tracking-wide">
                  {heroTitle}
                </h1>
              )}
              {heroText && (
                <p class=" mb-6 text-lg font-semibold leading-wide tracking-wide ">
                  {heroText}
                </p>
              )}
              {buttonLabel && buttonUrl && (
                <MyButton
                  titel={buttonLabel}
                  link={buttonUrl}
                  variant="primary"
                />
              )}
            </div>
          </div>
        </div>
      </section>
    )
  }
</section>
