---
// Hero.astro
import MyButton from "../MyButton.astro";
import MyImage from "../MyImage.astro"; // Importera din bildkomponent

const { data } = Astro.props;

const heroTitle = data.heroTitel || "Välkommen";
const heroText = data.heroText || "Din beskrivande text här.";
const buttonLabel = data.buttonLabel;
const buttonUrl = data.buttonUrl;
const heroLayout = data.heroLayout;
// Hämta hela bildobjektet
const heroImage = data.bgBild;
const buttonStyle = data.buttonStyle;
---

<section class="">
  {/* FALL 1: Text till vänster, Bild till höger */}
  {
    heroLayout === "textLeftImageRight" && (
      <div class="px-4 pt-4 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="flex items-center pb-12 px-4 max-w-7xl mx-auto">
          <div class="">
            {heroTitle && <h1 class="    mb-4 leading-wide">{heroTitle}</h1>}
            {heroText && <p class=" mb-6 ">{heroText}</p>}
            {buttonLabel && buttonUrl && (
              <MyButton
                titel={buttonLabel}
                link={buttonUrl}
                variant={buttonStyle || "primary"}
              />
            )}
          </div>
        </div>

        <div class="">
          {heroImage?.url && (
            <MyImage
              src={heroImage.url}
              alt={heroImage.altText || "Hero bild"}
              width={heroImage.width}
              height={heroImage.height}
              priority={true}
              class="rounded-2xl shadow-lg"
              aspect="auto"
            />
          )}
        </div>
      </div>
    )
  }
  {/* FALL 2: Full bredd bild - text i mitten */}
  {
    heroLayout === "fullWidthBackgroundTextCenter" && (
      <section
        class="-mt-36 mb-20 w-full bg-center bg-cover bg-no-repeat"
        style={`background-image: url(${heroImage.url});`}
      >
        <div class="min-h-screen md:pl-20 px-4 flex  items-center ">
          <div class="max-w-2xl   items-center text-white bg-black/30 md:bg-black/20 backdrop-blur-md rounded-t-4xl border-t border-x border-white/20 shadow-[0_-10px_40px_rgba(0,0,0,0.3)]">
            <div class=" p-8 flex  items-center flex-col">
              {heroTitle && (
                <h1 class="text-white text-4xl md:text-5xl font-bold tracking-tighter drop-shadow-[0_2px_2px_rgba(0,0,0,0.3)]">
                  {heroTitle}
                </h1>
              )}
              {heroText && (
                <p class="text-white font-semibold text-xl leading-relaxed tracking-tight antialiased [text-shadow:0_1px_3px_rgb(0_0_0/40%)]">
                  {heroText}
                </p>
              )}
              <div class="mt-4">
                {buttonLabel && buttonUrl && (
                  <MyButton
                    titel={buttonLabel}
                    link={buttonUrl}
                    variant={buttonStyle || "primary"}
                  />
                )}
              </div>
            </div>
          </div>
        </div>
      </section>
    )
  }
</section>
