---
// Hero.astro
import MyButton from "../MyButton.astro";
import MyImage from "../MyImage.astro";
import VideoCard from "../VideoCard.astro";

const { data } = Astro.props;

const heroTitle = data.heroTitel || "Välkommen";
const heroText = data.heroText || "Din beskrivande text här.";
const buttonLabel = data.buttonLabel;
const buttonUrl = data.buttonUrl;
const buttonStyle = data.buttonStyle;
const heroLayout = data.heroLayout;
const heroImage = data.bgBild;
const buttonLabel2 = data.buttonLabel2;
const buttonUrl2 = data.buttonUrl2;
const buttonStyle2 = data.buttonStyle2;
const videoPoster = data.videoPoster.url;
const videoUploadedUrl = data.videoUploadedUrl.url;
---

<section>
  {/* FALL 1: Text till vänster, Bild till höger */}
  {
    heroLayout === "textLeftImageRight" && (
      <div class="px-4 pt-4 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
        <div class="pb-12 px-4">
          <div>
            {heroTitle && <h1 class="mb-4">{heroTitle}</h1>}
            {heroText && <p class="mb-6">{heroText}</p>}
            <div class="mt-6 flex gap-4">
              <div class="flex flex-col sm:flex-row gap-4">
                {buttonLabel && buttonUrl && (
                  <MyButton
                    titel={buttonLabel}
                    link={buttonUrl}
                    variant={buttonStyle || "primary"}
                  />
                )}

                {buttonLabel2 && buttonUrl2 && (
                  <MyButton
                    titel={buttonLabel2}
                    link={buttonUrl2}
                    variant={buttonStyle2 || "primary"}
                  />
                )}
              </div>
            </div>
          </div>
        </div>

        <div>
          {heroImage?.url && (
            <MyImage
              src={heroImage.url}
              alt={heroImage.altText || "Hero bild"}
              width={heroImage.width}
              height={heroImage.height}
              priority={true}
              class="rounded-2xl shadow-lg"
              aspect="auto"
            />
          )}
        </div>
      </div>
    )
  }

  {/* FALL 2: Full bredd bild - text i mitten */}
  {
    heroLayout === "fullWidthBackgroundTextCenter" && (
      <section
        class="-mt-36 mb-20 w-full bg-center bg-cover bg-no-repeat"
        style={`background-image: url(${heroImage.url});`}
      >
        <div class="min-h-screen md:pl-20 px-4 flex items-center">
          {/* Här använder vi glass-panel och v4 important syntax */}
          <div class="mt-8 max-w-2xl glass-panel bg-black/30! md:bg-black/20! border-white/20 rounded-t-4xl shadow-[0_-10px_40px_rgba(0,0,0,0.3)]">
            <div class="p-8 flex items-center flex-col text-center md:items-start md:text-left">
              {heroTitle && (
                <h1 class="text-white text-4xl md:text-5xl drop-shadow-[0_2px_2px_rgba(0,0,0,0.3)] tracking-tighter">
                  {heroTitle}
                </h1>
              )}
              {heroText && (
                <p class="text-white font-medium text-xl leading-relaxed tracking-tight antialiased [text-shadow:0_1px_3px_rgb(0_0_0/40%)] mt-4">
                  {heroText}
                </p>
              )}
              <div class="mt-6 flex gap-4">
                <div class="flex flex-col sm:flex-row gap-4">
                  {buttonLabel && buttonUrl && (
                    <MyButton
                      titel={buttonLabel}
                      link={buttonUrl}
                      variant={buttonStyle || "primary"}
                    />
                  )}
                  {buttonLabel2 && buttonUrl2 && (
                    <MyButton
                      titel={buttonLabel2}
                      link={buttonUrl2}
                      variant={buttonStyle2 || "primary"}
                    />
                  )}
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    )
  }
  {/* FALL 3: Text vönster - video höger */}
  {
    heroLayout === "textLeftVideoRight" && (
      <div>
        <div class="px-4 pt-4 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
          <div class=" px-4">
            <div>
              {heroTitle && <h1 class="mb-4">{heroTitle}</h1>}
              {heroText && <p class="mb-6">{heroText}</p>}
              <div class="mt-6 flex gap-4">
                <div class="flex flex-col sm:flex-row gap-4">
                  {buttonLabel && buttonUrl && (
                    <MyButton
                      titel={buttonLabel}
                      link={buttonUrl}
                      variant={buttonStyle || "primary"}
                    />
                  )}

                  {buttonLabel2 && buttonUrl2 && (
                    <MyButton
                      titel={buttonLabel2}
                      link={buttonUrl2}
                      variant={buttonStyle2 || "primary"}
                    />
                  )}
                </div>
              </div>
            </div>
          </div>
          {/* Right section */}
          <div>
            <VideoCard
              videoUrl={videoUploadedUrl}
              poster={videoPoster}
              videoStyle="defaultLayout"
            />
          </div>
        </div>
      </div>
    )
  }

  {/* FALL 4: Full bredd bild - text vänster - video höger */}
  {
    heroLayout === "fullWidthBgTextLeftVideoRight" && (
      <section
        class="-mt-26  px-4  w-full bg-center bg-cover bg-no-repeat"
        style={`background-image: url(${heroImage.url});`}
      >
        <div class="min-h-screen  flex items-center">
          <div class=" pt-32 sm:pt-32 md:pt-32 lg:pt-0 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
            {/* Left section */}
            <div class="">
              {heroTitle && (
                <h1 class="text-5xl md:text-7xl mb-4">{heroTitle}</h1>
              )}
              {heroText && <p class="mb-6">{heroText}</p>}
              <div class="mt-6 flex gap-4">
                <div class="flex flex-col xl:flex-row gap-4">
                  {buttonLabel && buttonUrl && (
                    <MyButton
                      titel={buttonLabel}
                      link={buttonUrl}
                      variant={buttonStyle || "primary"}
                    />
                  )}

                  {buttonLabel2 && buttonUrl2 && (
                    <MyButton
                      titel={buttonLabel2}
                      link={buttonUrl2}
                      variant={buttonStyle2 || "primary"}
                    />
                  )}
                </div>
              </div>
            </div>
            {/* Right section */}
            <div class="">
              <VideoCard
                videoUrl={videoUploadedUrl}
                poster={videoPoster}
                videoStyle="defaultLayout"
              />
            </div>
          </div>
        </div>
      </section>
    )
  }
</section>
