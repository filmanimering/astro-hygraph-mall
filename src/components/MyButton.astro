---
// src/components/MyButton.astro
import LinkExternal from "./ikonerSvg/LinkExternal.astro";

interface Props {
  titel: string;
  link: string;
  variant?: "primary" | "secondary" | "outline-dark" | "outline-light";
  fullWidth?: boolean;
}

const { titel, link, variant = "primary", fullWidth = false } = Astro.props;

const isExternal = /^https?:\/\//.test(link);

const baseClasses =
  "py-2 px-4 rounded-xl text-sm tracking-wide items-center gap-2 transition-all duration-300 hover:scale-[1.03] inline-flex font-medium border-2 transition-colors";

const variants = {
  // 1. PRIMÄR: Svart med svart kant. Syns alltid på ljus botten.
  primary: "bg-slate-900 text-white border-slate-900 hover:bg-slate-800",

  // 2. SEKUNDÄR: Vit med en tunn grå kant. Nu syns den även på vit bakgrund!
  secondary:
    "bg-white text-slate-900 border-slate-200 hover:border-slate-300 hover:bg-slate-50 shadow-sm",

  // 3. OUTLINE DARK: Mörk text och tydligare ram.
  "outline-dark":
    "bg-transparent text-slate-900 border-slate-900/30 hover:border-slate-900 hover:bg-slate-900/5",

  // 4. OUTLINE LIGHT: Vit text/ram. (Bör endast användas på mörk botten, men vi ger den lite skugga)
  "outline-light":
    "bg-transparent text-white border-white/60 hover:border-white hover:bg-white/10",
};

const themeClasses = variants[variant] || variants["primary"];
---

<a
  href={link}
  target={isExternal ? "_blank" : undefined}
  rel={isExternal ? "noopener noreferrer" : undefined}
  class:list={[
    baseClasses,
    themeClasses,
    { "w-full justify-center": fullWidth },
  ]}
>
  {titel}
  {isExternal && <LinkExternal />}
</a>
